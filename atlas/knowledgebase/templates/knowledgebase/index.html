{% extends 'base.html' %}

{% load staticfiles %}

{% block title %}Knowledgebase{% endblock %}

{% block body_block %}

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <div class="panel panel-default">
      <div class="panel-body">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Search Articles...">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>
        </span>
      </div>
      </div>
    </div>
</div>
</div>
<div class="row">
<div class="col-md-2">
  <div class="panel panel-default">
    <div class="panel-heading">
      <b>Menu</b>
    </div>
    <div class="list-group">
      <a href="{% url 'knowledgebase:create_article' %}" class="list-group-item">New Article</a>
    </div>
  </div>
</div>
<div class="col-md-8">
  <div class="panel panel-default">
    <div class="panel-heading">
      <b>Recently Updated Articles</b>
    </div>
      <div class="list-group">
        {% for article in recently_modified %}
        <a href="{% url 'knowledgebase:article_detail' article.id %}" class="list-group-item">
          <b class="list-group-item-heading">{{ article.title | truncatewords:15 }}</b>
          <p class="list-group-item-text">{{ article.body | truncatewords:30 | striptags }}</p>
        </a>
        {% endfor %}
      </div>
  </div>
</div>
<div class=col-md-2>
  <div class="panel panel-default">
    <div class="panel-heading">
      <b>Search by Tags</b>
    </div>
      <div class="list-group">
        {% for tag in tags%}
        <a href="#" class="list-group-item">
          <span class="badge">{{ tag.article_set.count }}</span>
          {{tag.name}}
        </a>
        {% endfor %}
      </div>
  </div>
</div>
</div>

{% endblock %}
